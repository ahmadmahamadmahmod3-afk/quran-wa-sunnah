<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ูุฑุขู ูุณูุฉ</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Cairo', sans-serif;
      background-color: #f4fdf8;
      color: #2c3e50;
      background-image: url('https://i.ibb.co/6Nt0g9V/islamic-pattern.png');
      background-size: cover;
      background-attachment: fixed;
    }
    header {
      background-color: rgba(30,130,76,0.9);
      color: white;
      padding: 20px;
      text-align: center;
      border-bottom: 5px solid #f1c40f;
    }
    nav {
      background-color: rgba(20,90,50,0.95);
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      border-bottom: 3px solid #f1c40f;
    }
    nav a {
      color: white;
      padding: 15px 20px;
      text-decoration: none;
      display: block;
      font-weight: bold;
    }
    nav a:hover {
      background-color: #117a38;
      border-radius: 8px;
    }
    .hero {
      padding: 40px 20px;
      text-align: center;
      background: rgba(212,239,223,0.9);
      border-bottom: 3px solid #1e824c;
    }
    .hero h1 {
      font-size: 2.5em;
      margin-bottom: 10px;
    }
    /* ุชูุณูู ูุณู ุงูุจุญุซ ุงูุฌุฏูุฏ */
    .search-section {
        text-align: center;
        padding: 30px 20px 10px; 
        background-color: rgba(255, 255, 255, 0.9);
    }
    .search-section label {
        display: block;
        margin-bottom: 15px;
        font-size: 1.2em;
        color: #1e824c;
        font-weight: bold;
    }
    .qari-search-input {
        width: 70%; 
        max-width: 600px; 
        padding: 12px 20px;
        border: 2px solid #1e824c;
        border-radius: 30px; 
        font-size: 1em;
        text-align: right;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        transition: border-color 0.3s;
    }
    .qari-search-input:focus {
        border-color: #f1c40f; 
        outline: none;
    }
    /* ููุงูุฉ ุชูุณูู ุงูุจุญุซ ุงูุฌุฏูุฏ */
    .ayah {
      text-align: center;
      font-size: 1.8em;
      color: #145a32;
      margin: 40px 20px;
      padding: 30px;
      background: #ffffff;
      border-radius: 20px;
      box-shadow: 0 6px 12px rgba(0,0,0,0.15);
      line-height: 1.8;
      position: relative;
    }
    .ayah::before, .ayah::after {
      content: "๏ดพ";
      font-size: 2em;
      color: #f1c40f;
      position: absolute;
      top: -15px;
    }
    .ayah::before {
      left: 20px;
    }
    .ayah::after {
      right: 20px;
      transform: rotate(180deg);
    }
    .sections {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      padding: 20px;
      gap: 20px;
    }
    .card {
      background: white;
      border-radius: 20px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      padding: 20px;
      width: 300px;
      text-align: center;
      border: 2px solid #f1c40f;
    }
    .card h2 {
      color: #1e824c;
    }
    footer {
      background-color: rgba(20,90,50,0.95);
      color: white;
      text-align: center;
      padding: 15px;
      margin-top: 40px;
      border-top: 3px solid #f1c40f;
    }
  </style>
</head>
<body>
  <header>
    <h1>ูููุน ูุฑุขู ูุณูุฉ</h1>
    <p>ุณูุงุน ุงููุฑุขู ุงููุฑููุ ุงูุฃุญุงุฏูุซ ุงููุจููุฉุ ูุงููุฒูุฏ ูู ุนููู ุงูุฏูู</p>
  </header>
  <nav>
    <a href="mashaekh.html" target="_blank">ุงููุฑุขู ุงููุฑูู</a>
    <a href="ahades.html" class="active">ุงูุฃุญุงุฏูุซ</a>
    <a href="#">ููุงูุงุช</a>
    <a href="#">ุณุคุงู ูุฌูุงุจ</a>
    <a href="#">ุงุชุตู ุจูุง</a>
  </nav>
  <section class="hero">
    <h1>ูุฑุญุจูุง ุจู ูู ูููุน ูุฑุขู ูุณูุฉ</h1>
    <p>ููุตุฉ ุฅุณูุงููุฉ ููุงุณุชูุงุน ูุงููุฑุงุกุฉ ูุงูุชุนูู ูู ุงููุชุงุจ ูุงูุณูุฉ</p>
  </section>
  
  <section class="search-section">
    <label for="qari-search">ุงุจุญุซ ุนู ุงููุงุฑุฆ ุงูุฐู ุชูุถูู:</label>
    <input type="search" id="qari-search" name="qari-search" placeholder="ุงูุชุจ ุงุณู ุงููุงุฑุฆ ูุซู: ุนุจุฏ ุงูุจุงุณุทุ ุงูููุดุงููุ ุงูุณุฏูุณ..." 
           class="qari-search-input">
  </section>

  <div class="ayah">
    ๏ดฟ ุฅูููู ููููฐุฐูุง ูฑูกููุฑกุกูุงูู ูููกุฏูู ูููููุชูู ูููู ุฃููกูููู ๏ดพ<br>
    <span style="font-size:0.7em; color:#555;">ุณูุฑุฉ ุงูุฅุณุฑุงุก - 9</span>
  </div>

  <section class="sections">
    <div class="card">
      <h2>๐ ุงููุฑุขู ุงููุฑูู</h2>
      <ul style="list-style: none; padding: 0; margin: 0; text-align: right;">
        <li><a href="#" style="text-decoration: none; color: #1e824c;">ุณูุฑ ูุตูุฑุฉ</a></li>
        <li><a href="#" style="text-decoration: none; color: #1e824c;">ุชูุณูุฑ ูุจุณุท</a></li>
        <li><a href="#" style="text-decoration: none; color: #1e824c;">ูุตุญู ูุฑุชู</a></li>
        <li><a href="#" style="text-decoration: none; color: #1e824c;">ูุฑุงุกุฉ ููุฃุทูุงู</a></li>
      </ul>
      <p>ุงุณุชูุน ูุขูุงุช ุงููู ุจุตูุช ูุจุงุฑ ุงููุฑุงุก.</p>
    </div>
    <div class="card">
      <h2>๐ ุฃุญุงุฏูุซ ูุจููุฉ</h2>
      <p>ุชุนูู ูู ุณููุฉ ุงููุจู ๏ทบ ุฃุญุงุฏูุซ ุตุญูุญุฉ ููุซููุฉ.</p>
    </div>
    <div class="card">
      <h2>๐ ููุงูุงุช ุฏูููุฉ</h2>
      <p>ูุนูููุงุช ุนู ุงูุตูุงุฉุ ุงูุตูุงูุ ุงูุทูุงุฑุฉุ ูุบูุฑูุง.</p>
    </div>
    <div class="card">
      <h2>โ ุณุคุงู ูุฌูุงุจ</h2>
      <p>ุฃุฌุจ ุนูู ุงุณุชูุณุงุฑุงุชู ุงูุฏูููุฉ ุจุณูููุฉ.</p>
    </div>
  </section>
  <footer>
    &copy; 2025 ูุฑุขู ูุณูุฉ - ุฌููุน ุงูุญููู ูุญููุธุฉ
  </footer>

  <script>
    // 1. ูุงุฆูุฉ ุจุฃุณูุงุก ุงููุฑุงุก ุงููุชุงุญุฉ ูุฑูุงุจุท ุตูุญุงุชูู (ุชู ุฅุถุงูุฉ ูุงุฆูุฉ ุดุงููุฉ)
    const availableQarisData = [
        // ุงููุดุงูุฎ ุงูุฃูุงุฆู
        { name: "ุฃุจู ุจูุฑ ุงูุดุงุทุฑู", link: "ABOBAKR ASHATER.html" }, // ุงูุฑุงุจุท ุงูุฐู ุทูุจุชู
        { name: "ุนุจุฏ ุงูุจุงุณุท ุนุจุฏ ุงูุตูุฏ", link: "qari/abdulbaset.html" },
        { name: "ูุญูุฏ ุตุฏูู ุงูููุดุงูู", link: "qari/minshawi.html" },
        
        // ูุดุงูุฎ ุงูุญุฑููู ูุบูุฑูู
        { name: "ุนุจุฏ ุงูุฑุญูู ุงูุณุฏูุณ", link: "qari/sudais.html" },
        { name: "ูุงูุฑ ุงููุนูููู", link: "qari/muaiqly.html" },
        { name: "ุณุนูุฏ ุงูุดุฑูู", link: "qari/shuraim.html" },
        { name: "ุนูู ุนุจุฏ ุงูุฑุญูู ุงูุญุฐููู", link: "qari/huthayfi.html" },
        { name: "ูุงุณุฑ ุงูุฏูุณุฑู", link: "qari/dossary.html" },
        
        // ูุดุงูุฎ ูู ุฏูู ุนุฑุจูุฉ ุฃุฎุฑู
        { name: "ูุดุงุฑู ุจู ุฑุงุดุฏ ุงูุนูุงุณู", link: "qari/afasy.html" },
        { name: "ุฃุญูุฏ ุจู ุนูู ุงูุนุฌูู", link: "qari/ajami.html" },
        { name: "ูุงุตุฑ ุงููุทุงูู", link: "qari/qatami.html" },
        { name: "ุฎุงูุฏ ุงูุฌููู", link: "qari/jalil.html" },
        { name: "ูุงุฑุณ ุนุจุงุฏ", link: "qari/abbad.html" },
        { name: "ูุญูุฏ ุฃููุจ", link: "qari/ayyub.html" },
        { name: "ูุงูู ุงูุฑูุงุนู", link: "qari/rifai.html" }
        // ููููู ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงููุดุงูุฎ ููุง
    ];

    // **ุงูุฏุงูุฉ ุงููุถุงูุฉ ูุชุทุจูุน ุงูุฃุญุฑู ุงูุนุฑุจูุฉ ูุชูุญูุฏูุง**
    function normalizeArabic(text) {
        if (!text) return '';
        // 1. ุชุญููู ุงููุต ุฅูู ุฃุญุฑู ุตุบูุฑุฉ ูุฅุฒุงูุฉ ุงููุณุงูุงุช ุงูุฒุงุฆุฏุฉ
        text = text.trim().toLowerCase();
        // 2. ุชูุญูุฏ ุงูุฃููุงุช (ุงุ ุฃุ ุฅุ ุข) ุฅูู ุฃูู ุนุงุฏูุฉ
        text = text.replace(/([ุฅุฃุข])/g, 'ุง');
        // 3. ุชูุญูุฏ ุงูุชุงุก ุงููุฑุจูุทุฉ (ุฉ) ุฅูู ูุงุก (ู)
        text = text.replace(/ุฉ/g, 'ู');
        // 4. ุชูุญูุฏ ุงูุฃูู ุงูููุตูุฑุฉ (ู) ุฅูู ูุงุก (ู)
        text = text.replace(/ู/g, 'ู');
        return text;
    }

    // 2. ุฎูุงุฑุฒููุฉ ูุณุงูุฉ ููููุดุชุงูู (Levenshtein Distance)
    function levenshteinDistance(s1, s2) {
        // **ุงุณุชุฎุฏุงู ุฏุงูุฉ ุงูุชุทุจูุน ุนูู ููุชุง ุงูุณูุณูุชูู ูุจู ุงูููุงุฑูุฉ**
        s1 = normalizeArabic(s1);
        s2 = normalizeArabic(s2);

        const costs = [];
        for (let i = 0; i <= s1.length; i++) {
            let lastValue = i;
            for (let j = 0; j <= s2.length; j++) {
                if (i === 0) {
                    costs[j] = j;
                } else if (j > 0) {
                    let newValue = costs[j - 1];
                    if (s1.charAt(i - 1) !== s2.charAt(j - 1)) {
                        newValue = Math.min(Math.min(newValue, lastValue), costs[j]) + 1;
                    }
                    costs[j - 1] = lastValue;
                    lastValue = newValue;
                }
            }
            if (i > 0) {
                costs[s2.length] = lastValue;
            }
        }
        return costs[s2.length];
    }

    // 3. ูุธููุฉ ุงูุจุญุซ ุงูุฐููุฉ (Fuzzy Search)
    function fuzzySearch(query, listData, maxDistance = 2) {
        const results = [];
        
        listData.forEach(qariObject => {
            // ูููู ุจุญุณุงุจ ุงููุณุงูุฉ ุจุงุณุชุฎุฏุงู ุงุณู ุงููุงุฑุฆ ููุท
            const distance = levenshteinDistance(query, qariObject.name);
            
            // ูุทุงุจู ุฅุฐุง ูุงู ุงููุฑู ุฃูู ูู ุฃู ูุณุงูู ุงูุญุฏ ุงูุฃูุตู ุงููุณููุญ ุจู (2)
            if (distance <= maxDistance) {
                // ููุถูู ุงููุงุฆู ุจุงููุงูู ุฅูู ุงููุชุงุฆุฌุ ูุน ุชุถููู ุงููุณุงูุฉ
                results.push({ qari: qariObject, distance });
            }
        });
        
        // ูุฑุฒ ุงููุชุงุฆุฌ: ุงูุฃูุฑุจ ูู ุงูุฃูุถู (ูุณุงูุฉ ุฃูู)
        results.sort((a, b) => a.distance - b.distance);
        
        return results;
    }

    // 4. ุฑุจุท ูุธููุฉ ุงูุจุญุซ ุจู ุฎุงูุฉ ุงูุฅุฏุฎุงู
    document.addEventListener('DOMContentLoaded', () => {
        const searchInput = document.getElementById('qari-search');
        
        // ุฅูุดุงุก ููุงู ูุนุฑุถ ุงููุชุงุฆุฌ (ุฃุณูู ุฎุงูุฉ ุงูุจุญุซ ูุจุงุดุฑุฉ)
        let resultsContainer = document.getElementById('search-results');
        if (!resultsContainer) {
            resultsContainer = document.createElement('div');
            resultsContainer.id = 'search-results';
            resultsContainer.style.textAlign = 'center';
            resultsContainer.style.marginTop = '10px';
            searchInput.parentNode.insertBefore(resultsContainer, searchInput.nextSibling);
        }

        searchInput.addEventListener('input', (event) => {
            const query = event.target.value.trim();
            resultsContainer.innerHTML = ''; // ูุณุญ ุงููุชุงุฆุฌ ุงููุฏููุฉ

            if (query.length > 2) { 
                // ููุฑุฑ ูุงุฆูุฉ ุงููุงุฆูุงุช ุงูุชู ุชุญุชูู ุนูู ุงูุงุณู ูุงูุฑุงุจุท
                const results = fuzzySearch(query, availableQarisData, 2); 

                if (results.length > 0) {
                    let html = '<p style="color:#1e824c; font-weight:bold;">ูู ุชูุตุฏ ุฃุญุฏ ูุคูุงุกุ</p>';
                    html += '<ul style="list-style: none; padding: 0; display: inline-block; text-align: right;">';
                    results.forEach(result => {
                        // ุงุณุชุฎุฏุงู ุงูุฑุงุจุท (result.qari.link) ูุฑุจุท ุงุณู ุงููุงุฑุฆ ุจุงูุตูุญุฉ ุงููุทููุจุฉ
                        html += `<li style="margin-bottom: 5px; background: #fff; padding: 8px 15px; border-radius: 5px; border: 1px solid #ddd; box-shadow: 0 1px 3px rgba(0,0,0,0.05);">
                                     <a href="${result.qari.link}" style="text-decoration: none; color: #1e824c; font-weight: bold;">${result.qari.name}</a> 
                                     <span style="font-size: 0.8em; color: #777; margin-right: 10px;">(ูุฑู: ${result.distance} ุญุฑู)</span>
                                 </li>`;
                    });
                    html += '</ul>';
                    resultsContainer.innerHTML = html;
                } else {
                     resultsContainer.innerHTML = '<p style="color:#e74c3c;">ูุง ุชูุฌุฏ ูุชุงุฆุฌ ูุทุงุจูุฉ ูุฑูุจุฉ.</p>';
                }
            }
        });
    });
</script>
</body>
</html>